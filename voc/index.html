


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1, mkdocs-material-5.1.1">
    
    
      
        <title>VOC dataset - Preimutils</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.a676eddb.min.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/palette.b302131d.min.css">
      
      
        
        
        <meta name="theme-color" content="#546e7a">
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
    
      
    
    
  </head>
  
  
    
    
    <body dir="ltr" data-md-color-primary="blue-grey" data-md-color-accent="blue-grey">
  
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#preimutilssegmentationvocutils" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href=".." title="Preimutils" class="md-header-nav__button md-logo" aria-label="Preimutils">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12,8A3,3 0 0,0 15,5A3,3 0 0,0 12,2A3,3 0 0,0 9,5A3,3 0 0,0 12,8M12,11.54C9.64,9.35 6.5,8 3,8V19C6.5,19 9.64,20.35 12,22.54C14.36,20.35 17.5,19 21,19V8C17.5,8 14.36,9.35 12,11.54Z" /></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z" /></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            Preimutils
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              VOC dataset
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z" /></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z" /></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z" /></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
          

<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  <li class="md-tabs__item">
    
      <a href=".." class="md-tabs__link md-tabs__link--active">
        Official English Documentation for PreImutils!
      </a>
    
  </li>

      
        
      
        
      
        
      
        
      
        
      
    </ul>
  </div>
</nav>
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Preimutils" class="md-nav__button md-logo" aria-label="Preimutils">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12,8A3,3 0 0,0 15,5A3,3 0 0,0 12,2A3,3 0 0,0 9,5A3,3 0 0,0 12,8M12,11.54C9.64,9.35 6.5,8 3,8V19C6.5,19 9.64,20.35 12,22.54C14.36,20.35 17.5,19 21,19V8C17.5,8 14.36,9.35 12,11.54Z" /></svg>

    </a>
    Preimutils
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Official English Documentation for PreImutils!" class="md-nav__link">
      Official English Documentation for PreImutils!
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../installation/" title="Installation" class="md-nav__link">
      Installation
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../object-detection/" title="Object Detection Dataset" class="md-nav__link">
      Object Detection Dataset
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../segmentation/" title="Segmentation Dataset" class="md-nav__link">
      Segmentation Dataset
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        VOC dataset
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3,9H17V7H3V9M3,13H17V11H3V13M3,17H17V15H3V17M19,17H21V15H19V17M19,7V9H21V7H19M19,13H21V11H19V13Z" /></svg>
        </span>
      </label>
    
    <a href="./" title="VOC dataset" class="md-nav__link md-nav__link--active">
      VOC dataset
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#modules" class="md-nav__link">
    Modules
  </a>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../coco/" title="COCO dataset" class="md-nav__link">
      COCO dataset
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#modules" class="md-nav__link">
    Modules
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                  
                
                
                <div class="admonition warning">
<p class="admonition-title">Warning</p>
<p><strong>When use PreImutils VOC segmentation it's easier to put your data in below pattern</strong></p>
</div>
<div class="codehilite"><pre><span></span><code>.
└── <span class="si">${</span><span class="nv">YOUR_DATASET_DIR</span><span class="si">}</span>
    ├── ImageSets
    │   └── Segmentation
    │       └── train.txt
    │       └── val.txt
    │       └── trainval.txt
    ├── JPEGImages
    ├── SegmentationClass
    ├── SegmentationClassRaw
    ├── SegmentationObject
    └── labelmap.txt
</code></pre></div>


<p><strong>If you have custom dataset just use below method</strong></p>
<div class="codehilite"><pre><span></span><code><span class="kn">from</span> <span class="nn">preimutils.segmentations.voc</span> <span class="kn">import</span> <span class="n">utils</span>


<span class="n">utils</span><span class="o">.</span><span class="n">custom_to_voc</span><span class="p">(</span><span class="s1">&#39;YOUR_MASKS_DIR&#39;</span><span class="p">,</span><span class="s1">&#39;YOUR_IMAGES_DIR&#39;</span><span class="p">,</span><span class="s1">&#39;TARGET_TO_SAVE_VOC_DS&#39;</span><span class="p">)</span>
</code></pre></div>


<h1 id="preimutilssegmentationvocutils">preimutils.segmentation.voc.utils<a class="headerlink" href="#preimutilssegmentationvocutils" title="Permanent link">&para;</a></h1>
<h2 id="modules">Modules<a class="headerlink" href="#modules" title="Permanent link">&para;</a></h2>
<div class="autodoc">
<div class="autodoc-signature"><code>preimutils.segmentations.voc.<strong>utils</strong></code></div>
<div class="autodoc-docstring"></div>
<div class="autodoc-members">
<div class="autodoc-signature"><code><strong>custom_to_voc</strong></code><span class="autodoc-punctuation">(</span><em class="autodoc-param">masks_dir</em><span class="autodoc-punctuation">, </span><em class="autodoc-param">images_dir</em><span class="autodoc-punctuation">, </span><em class="autodoc-param">target_dir</em><span class="autodoc-punctuation">)</span></div>
<div class="autodoc-docstring"><p>Convert your custom dataset to normal voc format</p>
<p>Args:</p>
<div class="codehilite"><pre><span></span><code><span class="err">masks_dir (str): your masks path.</span>
<span class="err">images_dir (str): your images path.</span>
</code></pre></div>


<p>Returns:</p>
<div class="codehilite"><pre><span></span><code><span class="err">(list) : unique colors from your masks</span>
</code></pre></div></div>
<div class="autodoc-signature"><code><strong>decode_segmap</strong></code><span class="autodoc-punctuation">(</span><em class="autodoc-param">label_mask</em><span class="autodoc-punctuation">, </span><em class="autodoc-param">class_color</em><span class="autodoc-punctuation">, </span><em class="autodoc-param">plot=False</em><span class="autodoc-punctuation">)</span></div>
<div class="autodoc-docstring"><p>Decode segmentation class labels into a color image</p>
<p>Args:</p>
<div class="codehilite"><pre><span></span><code><span class="err">label_mask (np.ndarray): an (M,N) array of integer values denoting</span>
<span class="err">    the class label at each spatial location.</span>
<span class="err">plot (bool, optional): whether to show the resulting color image</span>
<span class="err">    in a figure.</span>
</code></pre></div>


<p>Returns:</p>
<div class="codehilite"><pre><span></span><code><span class="err">(np.ndarray, optional): the resulting decoded color image.</span>
</code></pre></div></div>
<div class="autodoc-signature"><code><strong>encode_segmap</strong></code><span class="autodoc-punctuation">(</span><em class="autodoc-param">mask</em><span class="autodoc-punctuation">, </span><em class="autodoc-param">class_color</em><span class="autodoc-punctuation">)</span></div>
<div class="autodoc-docstring"><p>Encode segmentation label images as pascal classes</p>
<p>Args:</p>
<div class="codehilite"><pre><span></span><code><span class="err">mask (np.ndarray): raw segmentation label image of dimension</span>
<span class="err">    (M, N, 3), in which the Pascal classes are encoded as colours.</span>
<span class="err">class_color(list): class colors</span>
</code></pre></div>


<p>Returns:</p>
<div class="codehilite"><pre><span></span><code><span class="err">(np.ndarray): class map with dimensions (M,N), where the value at</span>
<span class="err">a given location is the integer denoting the class index.</span>
</code></pre></div></div>
<div class="autodoc-signature"><code><strong>export_path_count_for_each_label</strong></code><span class="autodoc-punctuation">(</span><em class="autodoc-param">color_label</em><span class="autodoc-punctuation">, </span><em class="autodoc-param">images_dir</em><span class="autodoc-punctuation">, </span><em class="autodoc-param">masks_dir</em><span class="autodoc-punctuation">)</span></div>
<div class="autodoc-docstring"><p>Get statistics of dataset with their labels with their mask and images files path</p>
<p>Args:</p>
<div class="codehilite"><pre><span></span><code><span class="n">xmls_dir</span><span class="o">:</span> <span class="n">all</span> <span class="n">xmls</span> <span class="n">file</span> <span class="n">directory</span><span class="o">.</span>
<span class="n">images_dir</span><span class="o">:</span> <span class="n">your</span> <span class="n">images</span> <span class="n">directory</span><span class="o">.</span>
<span class="n">color_label</span><span class="o">:[(</span><span class="n">r</span><span class="o">,</span><span class="n">g</span><span class="o">,</span><span class="n">b</span><span class="o">):</span><span class="n">object1</span><span class="o">,(</span><span class="n">r</span><span class="o">,</span><span class="n">g</span><span class="o">,</span><span class="n">b</span><span class="o">):</span><span class="s1">&#39;object2&#39;</span><span class="o">,...,(</span><span class="n">r</span><span class="o">,</span><span class="n">g</span><span class="o">,</span><span class="n">b</span><span class="o">):</span><span class="s1">&#39;objectN&#39;</span><span class="o">]</span>
</code></pre></div>


<p>Return:</p>
<div class="codehilite"><pre><span></span><code><span class="err">dict{   label1: {</span>
<span class="err">    count:</span>
<span class="err">    masks_paths:[]</span>
<span class="err">    images_paths:[]</span>
<span class="err">            },</span>
<span class="err">            ...,</span>
<span class="c">labelN: {</span>
<span class="c">    count:</span>
<span class="c">    masks_paths:[]</span>
<span class="c">    images_paths:[]</span>
<span class="c">            }</span>
<span class="err">}</span>
</code></pre></div></div>
<div class="autodoc-signature"><code><strong>find_image_from_mask</strong></code><span class="autodoc-punctuation">(</span><em class="autodoc-param">mask</em><span class="autodoc-punctuation">, </span><em class="autodoc-param">images_dir</em><span class="autodoc-punctuation">)</span></div>
<div class="autodoc-docstring"><p>Export image path from the mask file
if your image and mask names are same</p>
<p>Args:</p>
<div class="codehilite"><pre><span></span><code><span class="n">mask</span><span class="o">:</span> <span class="n">single</span> <span class="n">mask</span><span class="o">.</span><span class="na">png</span> <span class="n">file</span> <span class="n">path</span><span class="o">.</span>
<span class="n">images_dir</span><span class="o">:</span> <span class="n">your</span> <span class="n">images</span> <span class="n">path</span><span class="o">.</span>
</code></pre></div>


<p>Returns:</p>
<div class="codehilite"><pre><span></span><code><span class="err">image path : path of the input mask  -&gt; string.</span>
</code></pre></div></div>
<div class="autodoc-signature"><code><strong>find_maxmin_size_images</strong></code><span class="autodoc-punctuation">(</span><em class="autodoc-param">images_dir</em><span class="autodoc-punctuation">)</span></div>
<div class="autodoc-docstring"><p>Export the maximum and minimum size of the dataset images</p>
<p>Args:</p>
<div class="codehilite"><pre><span></span><code><span class="n">images_dir</span><span class="o">:</span> <span class="n">your</span> <span class="n">images</span> <span class="n">path</span><span class="o">.</span>
</code></pre></div>


<p>Returns:</p>
<div class="codehilite"><pre><span></span><code><span class="err">image path : path of the input mask  -&gt; string.</span>
</code></pre></div></div>
<div class="autodoc-signature"><code><strong>unique_label_from_masks</strong></code><span class="autodoc-punctuation">(</span><em class="autodoc-param">masks_dir</em><span class="autodoc-punctuation">)</span></div>
<div class="autodoc-docstring"><p>get the unique colors(classes) from your masks</p>
<p>Args:</p>
<div class="codehilite"><pre><span></span><code><span class="c">masks_dir:(str) your masks path.</span>
</code></pre></div>


<p>Returns:</p>
<div class="codehilite"><pre><span></span><code><span class="n">unique_colors</span> <span class="o">:</span> <span class="n">unique</span> <span class="n">colors</span> <span class="n">from</span> <span class="n">your</span> <span class="n">masks</span>  <span class="o">-&gt;</span> <span class="n">list</span><span class="o">.</span>
</code></pre></div></div>
<div class="autodoc-signature"><code><strong>utils</strong></code></div>
<div class="autodoc-docstring"></div>
</div>
</div>
<h1 id="preimutilssegmentationvocdataset">preimutils.segmentation.voc.Dataset<a class="headerlink" href="#preimutilssegmentationvocdataset" title="Permanent link">&para;</a></h1>
<h2 id="class">Class<a class="headerlink" href="#class" title="Permanent link">&para;</a></h2>
<div class="autodoc">
<div class="autodoc-signature"><em>class </em><code>preimutils.segmentations.voc.<strong>Dataset</strong></code><span class="autodoc-punctuation">(</span><em class="autodoc-param">dataset_dir</em><span class="autodoc-punctuation">)</span></div>
<div class="autodoc-docstring"><p>Get dataset voc paths directly and some methods for work with it.</p>
<div class="codehilite"><pre><span></span><code><span class="err">├── ImageSets</span>
<span class="err">│   └── Segmentation</span>
<span class="err">├── JPEGImages</span>
<span class="err">├── SegmentationClass</span>
<span class="err">├── SegmentationClassRaw</span>
<span class="err">└── SegmentationObject</span>
</code></pre></div>


<p>Attributes:</p>
<div class="codehilite"><pre><span></span><code><span class="n">masks_dir</span><span class="o">:</span> <span class="n">SegmentationClass</span> <span class="n">directory</span> <span class="n">path</span>
<span class="n">images_dir</span><span class="o">:</span> <span class="n">JPEGImages</span> <span class="n">directory</span> <span class="n">paths</span><span class="o">.</span>
<span class="n">segmentations_object_dir</span> <span class="o">:</span> <span class="n">SegmentationObject</span> <span class="n">directory</span> <span class="n">path</span>
<span class="n">label_map_path</span> <span class="o">=</span> <span class="n">labelmap</span><span class="o">.</span><span class="na">txt</span> <span class="n">path</span>
</code></pre></div></div>
<div class="autodoc-members">
<div class="autodoc-signature"><code><strong>check_valid_dataset</strong></code><span class="autodoc-punctuation">(</span><em class="autodoc-param">self</em><span class="autodoc-punctuation">)</span></div>
<div class="autodoc-docstring"><p>Check for all masks images if there isn't related
mask image print the work image path
If image not exist raise ValueError</p>
<p>Args:</p>
<div class="codehilite"><pre><span></span><code><span class="err">None</span>
</code></pre></div>


<p>ValueError :</p>
<div class="codehilite"><pre><span></span><code><span class="err">if image that you want not exists</span>
</code></pre></div>


<p>Returns:</p>
<div class="codehilite"><pre><span></span><code><span class="err">None</span>
</code></pre></div></div>
<div class="autodoc-signature"><code><strong>seprate_dataset</strong></code><span class="autodoc-punctuation">(</span><em class="autodoc-param">self</em><span class="autodoc-punctuation">, </span><em class="autodoc-param">shuffle=False</em><span class="autodoc-punctuation">, </span><em class="autodoc-param">valid_persent=0.25</em><span class="autodoc-punctuation">, </span><em class="autodoc-param">test_persent=None</em><span class="autodoc-punctuation">, </span><em class="autodoc-param">save=True</em><span class="autodoc-punctuation">)</span></div>
<div class="autodoc-docstring"><p>Seprate dataset to train.txt,trainval.txt,val.txt</p>
<p>Args:</p>
<div class="codehilite"><pre><span></span><code><span class="c">valid_persentage:(float), should be between 0.0 and 1.0 and represent the proportion of the dataset to include in the validation split.</span>
<span class="c"> If None,it will be set to 0.25.</span>
<span class="c">test_persentage: (float), should be between 0.0 and 1.0 and represent the proportion of the dataset to include in the test split.</span>
<span class="c"> If None, that means you don&#39;t have test dataset just have train validation.</span>
<span class="err">save :(bool), If True dataset save train.txt, trainval.txt, val.txt , if test_present exist test.txt</span>
</code></pre></div>


<p>Returns:</p>
<div class="codehilite"><pre><span></span><code><span class="err">None</span>
</code></pre></div></div>
</div>
</div>
<h1 id="preimutilssegmentationvoclabelmap">preimutils.segmentation.voc.LabelMap<a class="headerlink" href="#preimutilssegmentationvoclabelmap" title="Permanent link">&para;</a></h1>
<h2 id="class_1">Class<a class="headerlink" href="#class_1" title="Permanent link">&para;</a></h2>
<div class="autodoc">
<div class="autodoc-signature"><em>class </em><code>preimutils.segmentations.voc.<strong>LabelMap</strong></code><span class="autodoc-punctuation">(</span><em class="autodoc-param">label_map_path</em><span class="autodoc-punctuation">)</span></div>
<div class="autodoc-docstring"><p>A class on to work and handel labelmap.txt classes</p>
<p>Attributes:</p>
<div class="codehilite"><pre><span></span><code><span class="err">None</span>
</code></pre></div>


<p>Args:</p>
<div class="codehilite"><pre><span></span><code><span class="nf">label_map_path</span> <span class="p">(:</span><span class="n">obj</span><span class="p">:</span><span class="ss"><code>str</code></span><span class="p">):</span> <span class="n">you</span> <span class="n">should</span> <span class="n">have</span> <span class="n">a</span> <span class="n">txt</span> <span class="n">file</span> <span class="k">like</span> <span class="n">this</span>

    <span class="n">object1</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">::</span>
    <span class="n">object2</span><span class="p">:</span><span class="mi">128</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">::</span>
    <span class="n">object3</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="mi">128</span><span class="p">,</span><span class="mi">0</span><span class="p">::</span>
    <span class="n">objectN</span><span class="p">:</span><span class="mi">128</span><span class="p">,</span><span class="mi">128</span><span class="p">,</span><span class="mi">0</span><span class="p">::</span>

<span class="nf">masks_dir</span> <span class="p">(</span><span class="n">str</span><span class="p">):</span> <span class="n">annotations</span> <span class="n">files</span> <span class="n">paths</span><span class="p">.</span>
<span class="nf">images_dir</span> <span class="p">(</span><span class="n">str</span><span class="p">)</span> <span class="p">:</span><span class="n">images</span> <span class="n">files</span> <span class="n">paths</span><span class="p">.</span>
</code></pre></div></div>
<div class="autodoc-members">
<div class="autodoc-signature"><code><strong>color_label</strong></code><span class="autodoc-punctuation">(</span><em class="autodoc-param">self</em><span class="autodoc-punctuation">)</span></div>
<div class="autodoc-docstring"><p>Export color_label dict</p>
<p>Args:</p>
<div class="codehilite"><pre><span></span><code><span class="err">None</span>
</code></pre></div>


<p>Returns:</p>
<div class="codehilite"><pre><span></span><code><span class="err">a dict of label:color</span>
<span class="err">{(r,g,b):label1,(r,g,b):labelN}</span>
</code></pre></div></div>
<div class="autodoc-signature"><code><strong>color_list</strong></code><span class="autodoc-punctuation">(</span><em class="autodoc-param">self</em><span class="autodoc-punctuation">)</span></div>
<div class="autodoc-docstring"><p>Export color_list in their saving order</p>
<p>Args:</p>
<div class="codehilite"><pre><span></span><code><span class="err">None</span>
</code></pre></div>


<p>Returns:</p>
<div class="codehilite"><pre><span></span><code><span class="err">list of colors</span>
<span class="err">{(r,g,b),(rN,gN,bN)}</span>
</code></pre></div></div>
<div class="autodoc-signature"><code><strong>label_color</strong></code><span class="autodoc-punctuation">(</span><em class="autodoc-param">self</em><span class="autodoc-punctuation">)</span></div>
<div class="autodoc-docstring"><p>Export label_color dict</p>
<p>Args:</p>
<div class="codehilite"><pre><span></span><code><span class="err">None</span>
</code></pre></div>


<p>Returns:</p>
<div class="codehilite"><pre><span></span><code><span class="err">a dict of label:color</span>
<span class="err">{label1:(r,g,b),labelN:(r,g,b)}</span>
</code></pre></div></div>
</div>
</div>
<h1 id="preimutilssegmentationvocsegmentationaug">preimutils.segmentation.voc.SegmentationAug<a class="headerlink" href="#preimutilssegmentationvocsegmentationaug" title="Permanent link">&para;</a></h1>
<div class="autodoc">
<div class="autodoc-signature"><em>class </em><code>preimutils.segmentations.voc.<strong>SegmentationAug</strong></code><span class="autodoc-punctuation">(</span><em class="autodoc-param">label_map_path</em><span class="autodoc-punctuation">, </span><em class="autodoc-param">masks_dir</em><span class="autodoc-punctuation">, </span><em class="autodoc-param">images_dir</em><span class="autodoc-punctuation">)</span></div>
<div class="autodoc-docstring"><p>A wrapper class on albumentations package to work on voc segmentation format easily</p>
<p>Attributes:</p>
<div class="codehilite"><pre><span></span><code><span class="n">mask_dir</span><span class="o">:</span> <span class="n">masks</span> <span class="n">files</span> <span class="n">paths</span><span class="o">.</span>
<span class="n">images_dir</span><span class="o">:</span> <span class="n">images</span> <span class="n">files</span> <span class="n">paths</span><span class="o">.</span>
</code></pre></div>


<p>Args:</p>
<div class="codehilite"><pre><span></span><code><span class="nf">label_map_path</span> <span class="p">(:</span><span class="n">obj</span><span class="p">:</span><span class="ss"><code>str</code></span><span class="p">):</span> <span class="n">you</span> <span class="n">should</span> <span class="n">have</span> <span class="n">a</span> <span class="n">txt</span> <span class="n">file</span> <span class="k">like</span> <span class="n">this</span>
    <span class="n">object1</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">::</span>
    <span class="n">object2</span><span class="p">:</span><span class="mi">128</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">::</span>
    <span class="n">object3</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="mi">128</span><span class="p">,</span><span class="mi">0</span><span class="p">::</span>
    <span class="n">object4</span><span class="p">:</span><span class="mi">128</span><span class="p">,</span><span class="mi">128</span><span class="p">,</span><span class="mi">0</span><span class="p">::</span>
    <span class="n">object5</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">128</span><span class="p">::</span>
    <span class="n">objectN</span><span class="p">:</span><span class="mi">128</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">128</span><span class="p">::</span>
<span class="nf">masks_dir</span> <span class="p">(</span><span class="n">str</span><span class="p">):</span> <span class="n">annotations</span> <span class="n">files</span> <span class="n">paths</span><span class="p">.</span>
<span class="nf">images_dir</span> <span class="p">(</span><span class="n">str</span><span class="p">)</span> <span class="p">:</span><span class="n">images</span> <span class="n">files</span> <span class="n">paths</span><span class="p">.</span>
</code></pre></div></div>
<div class="autodoc-members">
<div class="autodoc-signature"><code><strong>augment_image</strong></code><span class="autodoc-punctuation">(</span><em class="autodoc-param">self</em><span class="autodoc-punctuation">, </span><em class="autodoc-param">mask_path</em><span class="autodoc-punctuation">, </span><em class="autodoc-param">quantity</em><span class="autodoc-punctuation">, </span><em class="autodoc-param">resize=False</em><span class="autodoc-punctuation">, </span><em class="autodoc-param">width=0</em><span class="autodoc-punctuation">, </span><em class="autodoc-param">height=0</em><span class="autodoc-punctuation">)</span></div>
<div class="autodoc-docstring"><p>augmentation for one picture depend on quantity that you get for it
if your image and mask names are same
save your aug image in your dataset path with the following pattern aug_{counter}.jpg</p>
<p>Args:</p>
<div class="codehilite"><pre><span></span><code><span class="n">mask_path</span><span class="o">:</span> <span class="n">single</span> <span class="n">mask</span> <span class="n">file</span> <span class="n">path</span><span class="o">.</span>
<span class="n">quantity</span><span class="o">:</span> <span class="n">quantity</span> <span class="k">for</span> <span class="n">your</span> <span class="n">image</span> <span class="n">to</span> <span class="n">augment</span>
<span class="n">resize</span><span class="o">:(</span><span class="n">bool</span> <span class="o">:</span> <span class="n">optional</span><span class="o">)-&gt;</span> <span class="n">defult</span> <span class="n">False</span> <span class="o">...</span> <span class="n">resize</span> <span class="n">your</span> <span class="n">augmented</span> <span class="n">images</span>
<span class="n">width</span><span class="o">:(</span><span class="n">int</span> <span class="o">:</span> <span class="n">optional</span><span class="o">)</span> <span class="n">width</span> <span class="k">for</span> <span class="n">resized</span> <span class="o">...</span> <span class="k">if</span> <span class="n">resize</span> <span class="n">True</span> <span class="n">you</span> <span class="n">should</span> <span class="n">use</span> <span class="k">this</span> <span class="n">arg</span>
<span class="n">height</span><span class="o">:(</span><span class="n">int</span> <span class="o">:</span> <span class="n">optional</span><span class="o">)</span> <span class="n">height</span> <span class="k">for</span> <span class="n">resized</span><span class="o">...</span> <span class="k">if</span> <span class="n">resize</span> <span class="n">True</span> <span class="n">you</span> <span class="n">should</span> <span class="n">use</span> <span class="k">this</span> <span class="n">arg</span>
</code></pre></div>


<p>Returns:</p>
<div class="codehilite"><pre><span></span><code><span class="err">No return</span>
</code></pre></div></div>
<div class="autodoc-signature"><code><strong>auto_augmentation</strong></code><span class="autodoc-punctuation">(</span><em class="autodoc-param">self</em><span class="autodoc-punctuation">, </span><em class="autodoc-param">count_of_each</em><span class="autodoc-punctuation">)</span></div>
<div class="autodoc-docstring"><p>auto augmentation for each picture depend on statistic of the object exist in your dataset
if your image and mask names are same
save your aug image in your dataset path with the following pattern aug_{counter}.jpg</p>
<p>Args:</p>
<div class="codehilite"><pre><span></span><code><span class="err">count_of_each(int): How much of each label you want to have !</span>
</code></pre></div>


<p>Returns:</p>
<div class="codehilite"><pre><span></span><code><span class="err">No return</span>
</code></pre></div></div>
<div class="autodoc-signature"><code><strong>encode_mask_dataset</strong></code><span class="autodoc-punctuation">(</span><em class="autodoc-param">self</em><span class="autodoc-punctuation">, </span><em class="autodoc-param">class_color</em><span class="autodoc-punctuation">)</span></div>
<div class="autodoc-docstring"><p>encode color map dataset masks to 1 channel mask used for most semantic segmentation models
save your encoded mask in your YOUR_MASK_PATH/pre_encoded</p>
<p>Args:</p>
<div class="codehilite"><pre><span></span><code><span class="err">class_color(int):   [(r,g,b),(r,g,b),(r,g,b),...]</span>
</code></pre></div>


<p>Returns:</p>
<div class="codehilite"><pre><span></span><code><span class="err">No return</span>
</code></pre></div></div>
</div>
</div>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../segmentation/" title="Segmentation Dataset" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Segmentation Dataset
              </div>
            </div>
          </a>
        
        
          <a href="../coco/" title="COCO dataset" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                COCO dataset
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4,11V13H16L10.5,18.5L11.92,19.92L19.84,12L11.92,4.08L10.5,5.5L16,11H4Z" /></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/vendor.c51dfa35.min.js"></script>
      <script src="../assets/javascripts/bundle.eaaa3931.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "..",
          features: ["instant", "tabs"],
          search: Object.assign({
            worker: "../assets/javascripts/worker/search.58d22e8e.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>